# Session 15 — 2026-02-22

## Context
- **Phase**: Phase 1: Simulation Foundation — Session 5 (Baseline Implementations & Comparison)
- **Branch**: main

## Objectives
- [x] Implement RandomPolicy baseline
- [x] Implement GreedyPursuerPolicy (proportional navigation, K_p=3.0)
- [x] Implement GreedyEvaderPolicy (flee behavior, max speed)
- [x] Implement DiscreteActionWrapper for DQN
- [x] Implement DQN baseline training function
- [x] Implement DDPG baseline training function
- [x] Create run_baselines.py comparison script
- [x] Add 13 new baseline tests (72 total, all passing)

## Work Done

### Baseline Policies (training/baselines.py)
- RandomPolicy: uniform random v and omega
- GreedyPursuerPolicy: proportional navigation (K_p=3.0), velocity modulated by cos(heading_error)
- GreedyEvaderPolicy: flee at max speed, steer away via proportional control
- create_discrete_action_space(): 5x7=35 discrete actions for DQN

### DiscreteActionWrapper (envs/discrete_action_wrapper.py)
- Converts continuous Box(2,) to Discrete(35) via lookup table
- Works with SB3's DQN out of the box

### Baseline Comparison Script (scripts/run_baselines.py)
- Trains PPO, DQN, DDPG pursuers against random evaders
- Evaluates all methods + random and greedy baselines
- Prints comparison table with capture rate, timing

### Testing
- 13 new tests: policy shapes, bounds, steering behavior, DQN training, greedy integration
- All 72 tests pass in 5.4s

## Files Changed
| File | Action | Description |
|------|--------|-------------|
| `training/baselines.py` | Created | Random, Greedy, discrete action table |
| `envs/discrete_action_wrapper.py` | Created | Discrete action wrapper for DQN |
| `scripts/run_baselines.py` | Created | Baseline comparison script |
| `tests/test_baselines.py` | Created | 13 baseline tests |

## Decisions Made
| Decision | Rationale |
|----------|-----------|
| K_p=3.0 for greedy | Per spec, justified by Dovrat et al. 2022 and PN guidance theory |
| 5x7=35 discrete actions | Per spec; covers velocity and angular velocity space adequately |
| DQN bridge for eval | DQN outputs discrete indices; bridge maps back to continuous for env |

## Next Steps
- [ ] Session 6: VCP-CBF validation (critical gate for Phase 2)
